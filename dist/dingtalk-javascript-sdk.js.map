{"version":3,"file":"dingtalk-javascript-sdk.js","sources":["../node_modules/dingtalk-javascript-utility/dist/journey-min.js","../package/dingtalk-sdk-polyfills/index.js","../package/dingtalk-sdk-ship/global-api/EventEmitter.js","../package/dingtalk-sdk-ship/core/parseJsApis.js","../package/dingtalk-sdk-ship/index.js","../src/shared/logger.js","../src/shared/checkConfigVars.js","../src/core/permissionJsApis.js","../src/core/bridge.js","../src/platforms/web/nativeEvent.js","../src/platforms/web/index.js","../src/platforms/weex/nativeEvent.js","../src/platforms/weex/index.js","../src/index.js"],"sourcesContent":["\"use strict\";function parse(e,r,n){var i=Object.create(null);if(\"string\"!=typeof e||0===e.length)return i;r=r||\"&\",n=n||\"=\";for(var o=e.split(r),t=0,a=o.length;t<a;t++){var l=o[t].split(n),s=l[0].trim(),u=\"\";l.length>=3?function(){l.splice(0,1);var e=l.length-1;l.forEach(function(r,i){r=r.trim(),u+=i===e?r:r+n})}():u=l[1].trim();var d=i[s];if(d)if(Array.isArray(d))d.push(decodeURIComponent(u));else{var p=d;i[s]=new Array,i[s].push(p),i[s].push(decodeURIComponent(u))}else i[s]=decodeURIComponent(u)}return i}function stringify(e,r,n){if(r=r||\"&\",n=n||\"=\",null!==e&&\"object\"===(void 0===e?\"undefined\":_typeof(e))){for(var i=Object.keys(e),o=i.length,t=o-1,a=\"\",l=0;l<o;l++){var s=i[l],u=e[s],d=s+n;if(Array.isArray(u)){for(var p=u.length,g=p-1,c=0;c<p;++c)a+=d+decodeURIComponent(u[c]),c<g&&(a+=r);p&&l<t&&(a+=r)}else a+=d+decodeURIComponent(u),l<t&&(a+=r)}return a}return\"\"}function format(e,r){return e+\"?\"+querystring.stringify(r)}function parse$1(e,r){var n={hash:null,search:null};if(!e)return{};var i=e.indexOf(\"?\");if(-1===i)return{};var o=e.indexOf(\"#\");o>-1?(n.hash=e.slice(o),n.search=e.slice(i,o)):n.search=e.slice(i);var t=n.search.slice(1),a=querystring.parse(t);return\"string\"==typeof r&&r.length>0?a[r]:a}function getEnv(){var e={};if(\"undefined\"!=typeof weex){var r=weex.config,n=r.env;if(e.platform=n.platform,e.bundleFrameworkType=\"Vue\",\"Web\"!==e.platform)e.dingtalk={bundleUrl:r.bundleUrl,originalUrl:r.originalUrl},e.appVersion=n.appVersion,e.appName=n.appName;else{var i=location.href,o=url.parse(i,\"dd_wx_tpl\"),t=url.parse(i,\"_wx_tpl\");e.dingtalk={bundleUrl:o||(t||\"\"),originalUrl:i}}}else{if(\"function\"==typeof callNative)e.platform=navigator.platform,e.appName=navigator.appName,e.appVersion=navigator.appVersion,e.dingtalk={bundleUrl:__weex_options__.bundleUrl,originalUrl:__weex_options__.originalUrl};else{e.platform=\"Web\";var a=location.href,l=url.parse(a,\"dd_wx_tpl\"),s=url.parse(a,\"_wx_tpl\");e.dingtalk={bundleUrl:l||(s||\"\"),originalUrl:a}}e.bundleFrameworkType=\"Rax\"}return e}function dingtalkContainer(){return isWeex?\"DingTalk\"===env.appName||\"com.alibaba.android.rimet\"===env.appName:UA&&UA.indexOf(\"dingtalk\")>-1}function webAndroid(){return isWeb?UA&&UA.indexOf(\"android\")>-1:null}function webiOS(){return isWeb?UA&&/iphone|ipad|ipod|ios/.test(UA):null}function fetchVersion(){if(isWeb){var e=UA.match(/aliapp\\(\\w+\\/([a-zA-Z0-9.-]+)\\)/);null===e&&(e=UA.match(/dingtalk\\/([a-zA-Z0-9.-]+)/));return e&&e[1]}return env.appVersion}function toPlatform(){var e=void 0;return isDingtalk?isWebAndroid?e=\"web.android\":isWebiOS?e=\"web.ios\":isWeexAndroid?e=\"weex.android\":isWeexiOS&&(e=\"weex.ios\"):e=\"not.dingtalk\",e}function compareVersion(e,r,n){if(\"string\"!=typeof e||\"string\"!=typeof r)return!1;var i=e.split(\".\"),o=r.split(\".\"),t=void 0,a=void 0;do{t=i.shift(),a=o.shift()}while(t===a&&o.length>0);return n?(0|a)>=(0|t):(0|a)>(0|t)}function requireModule(e){if(isWeex$1){if(\"Vue\"===bundleFrameworkType$1)return weex.requireModule(e);var r=\"@weex-module/\"+e;return __weex_require__(r)}if(\"Vue\"===bundleFrameworkType$1)return weex.requireModule(e)}function Document(){return isWeex$2&&\"Vue\"===bundleFrameworkType$2?weex.document:document}function setTimeout(e,r){return isWeex$3?(timer.setTimeout(e,r),doc.taskCenter.callbackManager.lastCallbackId.toString()):window.setTimeout(e,r)}function clearTimeout(e){isWeex$3?timer.clearTimeout(e):window.clearTimeout(e)}function setInterval(e,r){return isWeex$3?(timer.setInterval(e,r),doc.taskCenter.callbackManager.lastCallbackId.toString()):window.setInterval(e,r)}function clearInterva(e){isWeex$3?timer.clearInterva(e):window.clearInterva(e)}function fillZore(e){var r=\"00\"+e;return r.substring(r.length-2)}var _typeof=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},toConsumableArray=function(e){if(Array.isArray(e)){for(var r=0,n=Array(e.length);r<e.length;r++)n[r]=e[r];return n}return Array.from(e)},querystring={stringify:stringify,parse:parse},url={format:format,parse:parse$1},env=getEnv(),isWeb=\"Web\"===env.platform,isWeexiOS=\"iOS\"===env.platform,isWeexAndroid=\"android\"===env.platform,isWeex=isWeexiOS||isWeexAndroid,dingtalk=env.dingtalk,bundleFrameworkType=env.bundleFrameworkType,bundleUrl=dingtalk.bundleUrl,originalUrl=dingtalk.originalUrl,UA=void 0;isWeb&&(UA=window.navigator.userAgent.toLowerCase());var isDingtalk=dingtalkContainer(),isWebiOS=webiOS(),isWebAndroid=webAndroid(),version=fetchVersion(),env$1={isDingtalk:isDingtalk,isWeb:isWeb,isWebiOS:isWebiOS,isWebAndroid:isWebAndroid,isWeex:isWeex,isWeexiOS:isWeexiOS,isWeexAndroid:isWeexAndroid,bundleFrameworkType:bundleFrameworkType,bundleUrl:bundleUrl,originalUrl:originalUrl,version:version,platform:toPlatform()},bundleFrameworkType$1=env$1.bundleFrameworkType,isWeex$1=env$1.isWeex,bundleFrameworkType$2=env$1.bundleFrameworkType,isWeex$2=env$1.isWeex,doc=Document(),timer=requireModule(\"timer\"),isWeex$3=env$1.isWeex,timer$1={setTimeout:setTimeout,clearTimeout:clearTimeout,setInterval:setInterval,clearInterva:clearInterva},LOG=\"LOG\",INFO=\"INFO\",WARNING=\"WARNING\",ERROR=\"ERROR\",LogType$1={LOG:LOG,INFO:INFO,WARNING:WARNING,ERROR:ERROR},logChannel=function(e){var r,n,i,o,t=fillZore(e.time.getHours())+\":\"+fillZore(e.time.getMinutes())+\":\"+fillZore(e.time.getSeconds());switch(e.type){case LogType$1.LOG:(r=console).log.apply(r,[\"time:\"+t+\" | log: \"].concat(toConsumableArray(e.logArr)));break;case LogType$1.INFO:(n=console).info.apply(n,[\"time:\"+t+\" | info: \"].concat(toConsumableArray(e.logArr)));break;case LogType$1.ERROR:(i=console).error.apply(i,[\"time:\"+t+\" | error: \"].concat(toConsumableArray(e.logArr)));break;case LogType$1.WARNING:(o=console).warn.apply(o,[\"time:\"+t+\" | warning: \"].concat(toConsumableArray(e.logArr)))}},setLog$1=function(e){logChannel=e},log$1=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:LogType$1.LOG;logChannel({type:r,logArr:e,time:new Date})};log$1([\"current environment: \"+env$1.platform]);var logger={log:log$1,setLog:setLog$1,LogType:LogType$1},log=logger.log,setLog=logger.setLog,LogType=logger.LogType,index={querystring:querystring,url:url,env:env$1,compareVersion:compareVersion,requireModule:requireModule,document:doc,timer:timer$1,LogType:LogType,setLog:setLog,log:log};module.exports=index;\n//# sourceMappingURL=journey-min.js.map\n","/* @flow */\n\nimport utility from 'dingtalk-javascript-utility';\n\nconst { env, requireModule } = utility;\n\nexport default {\n  env,\n  requireModule\n};\n","/**\n * Created by xiangwenwen on 2017/3/24.\n */\n\n// @flow\n\nlet cat: Object = {};\nlet EventEmitter:{\n  on: Function,\n  off: Function,\n  once: Function,\n  emit: Function\n} = {\n  on: function(event: string,fun: Function){\n    let cbs = cat[event];\n    cbs ? cbs.push(fun) : cat[event] = [];\n    if (!cbs) {\n      cat[event].push(fun);\n    }\n  },\n  off: function(event: string,fun: Function){\n    let cbs = cat[event];\n    if (!cbs) {\n      return false;\n    }\n    if (!event && !fun) {\n      cat = {};\n      return true;\n    }\n    if (event && !fun) {\n      cat[event] = null;\n      return true;\n    }\n    let cb;\n    let i = cbs.length;\n    while(i--){\n      cb = cbs[i];\n      if (cb === fun || cb.fun === fun) {\n        cbs.splice(i,1);\n        break;\n      }\n    }\n    return true;\n  },\n  once: function(event: string,fun: Function){\n    function _on(){\n      EventEmitter.off(event,_on);\n      fun.apply(this,arguments);\n    }\n    _on.fun = fun;\n    EventEmitter.on(event,_on);\n  },\n  emit: function(event: string){\n    let isString = typeof event === 'string';\n    if (!isString){\n      return;\n    }\n    let cbs = cat[event];\n    let args = toArray(arguments,1);\n    if (cbs) {\n      let i = 0;\n      let j = cbs.length;\n      for(;i<j;i++){\n        let cb = cbs[i];\n        cb.apply(this,args);\n      }\n    }\n  }\n};\n\nfunction toArray(list: Array<any>, index: ?number) {\n  let _index = index || 0;\n  let i = list.length - _index;\n  let _array = new Array(i);\n  while(i--){\n    _array[i] = list[i + _index]\n  }\n  return _array\n}\n\nexport default EventEmitter;\n","/**\n * Created by xiangwenwen on 2017/3/27.\n */\n\n//@flow\n\n// import exec from 'dingtalk-sdk-exec';\n\nfunction createApi(_name:string,_action:string){\n  return function(params){\n    if (!params) {\n      params = {};\n    }\n    let onSuccess = params.onSuccess;\n    let onFail = params.onFail;\n    delete params.onSuccess;\n    delete params.onFail;\n    delete params.onCancel;\n    const config = {\n      body: {\n        plugin: _name,\n        action: _action,\n        args: params\n      },\n      onSuccess: onSuccess,\n      onFail: onFail\n    };\n    exec(config);\n  }\n}\n\nfunction createFuns(name:string,funs:Array<any>) : Object{\n  let s = Object.create(null);\n  funs.forEach(function(action){\n    s[action] = createApi(name, action);\n  });\n  return s;\n}\n\nexport default function parseJsApis(jsApis: Object) : Object{\n  let apis: Object = Object.create(null);\n  for (let name: string in jsApis) {\n    let node: Array<string> = name.split('.');\n    let funs: Array<string> = jsApis[name];\n    let staging = null;\n    let i: number = 0;\n    let j: number = node.length;\n    while (true) {\n      if (!staging) {\n        if (1 === j) {\n          let h = false;\n          let p = apis[node[i]];\n          let s = createFuns(name, funs);\n          for (let x in p){\n            if (p.hasOwnProperty(x)){\n              h = true;\n              break;\n            }\n          }\n          if (h){\n            for (let k in s){\n              p[k] = s[k];\n            }\n          } else {\n            apis[node[i]] = createFuns(name, funs);\n          }\n          break;\n        }\n        if (apis[node[i]]){\n          staging = apis[node[i]];\n          i++;\n          continue;\n        }\n        apis[node[i]] = {};\n        staging = apis[node[i]];\n        i++;\n        continue;\n      } else {\n        if ((j - 1) === i) {\n          staging[node[i]] = createFuns(name, funs);\n          break;\n        }\n        if (staging[node[i]]) {\n          i++;\n          continue;\n        }\n        staging[node[i]] = {};\n        staging = staging[node[i]];\n      }\n      i++;\n      if (i > j) {\n        break;\n      }\n    }\n  }\n\treturn apis;\n}\n","/**\n * Created by xiangwenwen on 2017/3/24.\n */\n\n// @flow\n\n// import exec from 'dingtalk-sdk-exec';\nimport EventEmitter from './global-api/EventEmitter.js';\nimport parseJsApis from './core/parseJsApis.js';\nimport polyfills from 'dingtalk-sdk-polyfills';\n\n// let env = polyfills.env;\n// let globalEvent: Object = {};\n// const { isWeex } = env;\n// if (isWeex){\n//   globalEvent = polyfills.requireModule('globalEvent');\n// }\n\n// function rtFunc(method: string): Function {\n//   return function(cb: Function) {\n//     const config:{\n//       body: Object,\n//       onSuccess: Function,\n//       onFail: Function,\n//       context: ?Object\n//     } = {\n//       body: {\n//         plugin: 'runtime',\n//         action: method,\n//         args: {}\n//       },\n//       onSuccess: function(response){\n//         if (typeof cb === 'function'){\n//           cb(response);\n//         }\n//       },\n//       onFail: function(){\n\n//       },\n//       context: null\n//     };\n//     exec(config);\n//   };\n// }\n\n// function initDingtalkRequire(cb: Function){\n//     rtFunc('getModules')(cb);\n// }\n\n// let ship: {\n//   apis: ?Object,\n//   isReady: boolean,\n//   runtime: Object,\n//   init: Function,\n//   ready: Function,\n//   on: Function,\n//   off: Function,\n//   EventEmitter: Object\n// } = {\n//   getModules: null,\n//   isReady: false,\n//   runtime: {\n//     info: rtFunc('info'),\n//     _interceptBackButton: rtFunc('interceptBackButton'),\n//     _interceptNavTitle: rtFunc('interceptNavTitle'),\n//     _recoverNavTitle: rtFunc('recoverNavTitle'),\n//     _getModules: rtFunc('getModules')\n//   },\n//   init: function(){\n//     initDingtalkRequire(function(response){\n//       if(response){\n//         ship.isReady = true;\n//         ship.apis = parseJsApis(response);\n//         EventEmitter.emit('__ship_ready__');\n//       }\n//     });\n//   },\n//   ready: function(cb: Function){\n//     if (ship.isReady){\n//       if (typeof cb === 'function'){\n//         cb();\n//       }\n//     } else {\n//       if (typeof cb === 'function'){\n//         EventEmitter.once('__ship_ready__', function(){\n//           cb();\n//         });\n//       }\n//     }\n//   },\n//   on: function(type: string, handler: Function){\n//     globalEvent.addEventListener(type,function(e){\n//       const event:{\n//         preventDefault: Function,\n//         detail: Object\n//       } = {\n//         preventDefault: function () {\n//           console.warn('当前环境不支持 preventDefault')\n//         },\n//         detail: e\n//       };\n//       handler.call(this,event);\n//     });\n//   },\n//   off: globalEvent.removeEventListener,\n//   EventEmitter: EventEmitter\n// };\n\nconst ship = {}\n\nexport default ship;\n","/* @flow */\n\nconst logger:{\n  warn:Function,\n  info:Function,\n  error:Function\n} = {\n  warn: function (msg: string, e:Object){\n    console.warn('[DINGTALK JS SDK Warning]:', msg);\n    if (e) {\n      throw e;\n    } else {\n      const warning = new Error('WARNING STACK TRACE');\n      console.warn(warning.stack);\n    }\n  },\n  info: function (msg: string){\n    console.info('[DINGTALK JS SDK INFO]:', msg);\n  },\n  error: function (msg: string){\n    console.error('[DINGTALK JS SDK ERROR]:', msg);\n  }\n};\n\nexport default logger;\n","/* @flow */\n\nimport logger from './logger.js';\n\nconst checks = [\n  'agentId',\n  'corpId',\n  'timeStamp',\n  'nonceStr',\n  'signature',\n  'jsApiList'\n];\n\nexport default function checkConfigVars(config:Object){\n  /*\n    corpId,\n    appId,\n    timeStamp,\n    nonceStr,\n    signature,\n    jsApiList,\n    type,\n    agentId\n   */\n  let checkInfo = [];\n  let infoKey = Object.keys(config);\n  checks.map(function(v){\n     const checkResult = infoKey.filter(function (k) { return v === k;});\n     if (checkResult.length === 0){\n         logger.warn('configure : ' + v + 'is empty');\n     }\n  });\n}\n","/**\n * Created by xiangwenwen on 2017/3/27.\n */\n\n//@flow\n\nimport ship from 'dingtalk-sdk-ship';\n\nexport default function permissionJsApis(cb: Function,jsApisConfig:?Object, errorCb: ?Function){\n  if (!jsApisConfig){\n    ship.ready(function(){\n      cb(null);\n    });\n    return;\n  }\n  ship.ready(function(){\n    const permission = ship.apis.runtime.permission;\n    let apisConf = jsApisConfig ? jsApisConfig : {};\n    let errCb = errorCb ? errorCb : null;\n    apisConf.onSuccess = function(response){\n      cb(null, response);\n    };\n    apisConf.onFail = function(error){\n      if (typeof errCb === 'function'){\n        errCb(error);\n      } else {\n        cb(error, null);\n      }\n    };\n    permission.requestJsApis(apisConf);\n  });\n}\n","/* @flow */\n\nimport ship from 'dingtalk-sdk-ship';\nimport { extend } from 'shared/util.js';\nimport logger from 'shared/logger.js';\nimport checkConfigVars from 'shared/checkConfigVars.js';\nimport permissionJsApis from './permissionJsApis.js';\n\nlet dingtalkJsApisConfig: ?Object = null;\nlet dingtalkQueue: ?Array<Function> = null;\nlet dingtalkErrorCb: ?Function = null;\nlet isReady: boolean = false;\n\nfunction performQueue (){\n  if (dingtalkQueue && dingtalkQueue.length > 0){\n    dingtalkQueue.forEach(function(task){\n      task();\n    });\n    dingtalkQueue.length = 0;\n  }\n}\n\nfunction initDingtalkSDK() : Object{\n  let dingtalk: {\n    apis: Object,\n    config: Function,\n    init: Function,\n    ready: Function,\n    error: Function,\n    EventEmitter: Object\n  } = {\n    apis: {},\n    config: function(config: Object){\n      if (!config){\n        logger.warn('config is undefined,you must configure Dingtalk parameters');\n        return;\n      }\n      if (process.env.NODE_ENV !== 'production'){\n        checkConfigVars(config);\n      }\n      dingtalkJsApisConfig = config;\n    },\n    init: function(){\n      // 初始化一次\n      dingtalkQueue = [];\n      ship.init();\n      ship.ready(function(){\n        isReady = ship.isReady;\n        dingtalk.apis = ship.apis ? ship.apis : {};\n        performQueue();\n      });\n    },\n    ready: function(cb: Function){\n      if (!cb || typeof cb !== 'function'){\n        logger.warn('callback is undefined');\n        return;\n      }\n      if (isReady){\n        permissionJsApis(cb,dingtalkJsApisConfig,dingtalkErrorCb);\n      } else {\n        function bufferFunction(cb){\n          return function(){\n            permissionJsApis(cb,dingtalkJsApisConfig,dingtalkErrorCb);\n          }\n        }\n        dingtalkQueue && dingtalkQueue.push(bufferFunction(cb));\n      }\n    },\n    error: function(cb){\n      if (typeof cb === 'function'){\n        dingtalkErrorCb = cb;\n      }\n    },\n    EventEmitter: ship.EventEmitter\n  };\n  return dingtalk;\n}\n\nexport default initDingtalkSDK;\n","\n/* @flow */\n\nfunction installNativeEvent(dingtalk:Object){\n  dingtalk.on = function(type, listener, useCapture){\n    document.addEventListener(type, listener, useCapture);\n  }\n  dingtalk.off = function(type, listener, useCapture){\n    document.removeEventListener(type, listener, useCapture);\n  }\n}\n\nexport default installNativeEvent;\n","\n/* @flow */\n\n\nimport initDingtalkSDK from 'core/bridge.js';\nimport installNativeEvent from './nativeEvent.js';\n\nfunction initWebDingtalkSDK() : Object{\n  let dingtalk = initDingtalkSDK();\n  installNativeEvent(dingtalk);\n  return dingtalk;\n}\n\nexport default initWebDingtalkSDK;\n","/* @flow */\n\nimport ship from 'dingtalk-sdk-ship';\n\nfunction installNativeEvent(dingtalk:Object){\n  dingtalk.on = ship.on;\n  dingtalk.off = ship.off;\n}\n\nexport default installNativeEvent;\n","/* @flow */\n\nimport initDingtalkSDK from 'core/bridge.js';\nimport installNativeEvent from './nativeEvent.js';\n\nfunction initWeexDingtalkSDK() : Object{\n  let dingtalk = initDingtalkSDK();\n  installNativeEvent(dingtalk);\n  return dingtalk;\n}\n\nexport default initWeexDingtalkSDK;\n","// @flow\nimport polyfills from 'dingtalk-sdk-polyfills';\nimport initWebDingtalkSDK from './platforms/web/index.js';\nimport initWeexDingtalkSDK from './platforms/weex/index.js';\nimport logger from 'shared/logger.js';\n\nlet initCtrl: boolean = true;\nlet env = polyfills.env;\nconst { isDingtalk, isWeex, isWeb } = env;\n\nlet dingtalkSDK: Object = {};\n\nif (!isDingtalk){\n  logger.warn('can only open the page be Dingtalk Container');\n}\n\nif (initCtrl){\n  initCtrl = false;\n  if (isWeex){\n    dingtalkSDK = initWeexDingtalkSDK();\n  } else if (isWeb){\n    dingtalkSDK = initWebDingtalkSDK();\n  }\n  dingtalkSDK.init();\n}\n\nexport default dingtalkSDK;\n"],"names":["parse","e","r","n","i","Object","create","length","o","split","t","a","l","s","trim","u","splice","forEach","d","Array","isArray","push","decodeURIComponent","p","stringify","_typeof","keys","g","c","format","querystring","parse$1","hash","search","indexOf","slice","getEnv","weex","config","env","platform","bundleFrameworkType","dingtalk","bundleUrl","originalUrl","appVersion","appName","location","href","url","callNative","navigator","__weex_options__","dingtalkContainer","isWeex","UA","webAndroid","isWeb","webiOS","test","fetchVersion","match","toPlatform","isDingtalk","isWebAndroid","isWebiOS","isWeexAndroid","isWeexiOS","compareVersion","shift","requireModule","isWeex$1","bundleFrameworkType$1","__weex_require__","Document","isWeex$2","bundleFrameworkType$2","document","setTimeout","isWeex$3","timer","doc","taskCenter","callbackManager","lastCallbackId","toString","window","clearTimeout","setInterval","clearInterva","fillZore","substring","Symbol","iterator","constructor","prototype","toConsumableArray","from","userAgent","toLowerCase","version","env$1","timer$1","LOG","INFO","WARNING","ERROR","LogType$1","logChannel","time","getHours","getMinutes","getSeconds","type","console","log","apply","concat","logArr","info","error","warn","setLog$1","log$1","arguments","Date","logger","setLog","LogType","index","utility","cat","toArray","ship","msg","warning","Error","stack","checks","checkConfigVars","checkInfo","infoKey","map","v","checkResult","filter","k","permissionJsApis","cb","jsApisConfig","errorCb","ready","permission","apis","runtime","apisConf","errCb","onSuccess","response","onFail","requestJsApis","dingtalkJsApisConfig","dingtalkQueue","dingtalkErrorCb","isReady","performQueue","task","initDingtalkSDK","process","NODE_ENV","init","bufferFunction","EventEmitter","installNativeEvent","on","listener","useCapture","addEventListener","off","removeEventListener","initWebDingtalkSDK","initWeexDingtalkSDK","initCtrl","polyfills","dingtalkSDK"],"mappings":"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"}